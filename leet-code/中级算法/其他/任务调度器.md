# [任务调度器](https://leetcode-cn.com/leetbook/read/top-interview-questions-medium/xwvaot/)

### algorithm:
贪心：
- 让次数最多的任务尽可能接近地安排，剩下的任务插入空当之中
- 如果剩下的任务比空当多，那么插入哪里都行；此时结果为任务的数量

### code:
```javascript
/**
 * @param {character[]} tasks
 * @param {number} n
 * @return {number}
 */
var leastInterval = function(tasks, n) {
    const map = new Map()
    tasks.forEach(task => map.set(task, (map.get(task) ?? 0) + 1))
    const sortedTasks = Array.from(map.entries()).sort((a, b) => b[1] - a[1])
    const mostFrequentTask = sortedTasks[0]
    const numberOfMostFrequentTasks = sortedTasks.filter(([, count]) => count === mostFrequentTask[1]).length
    const length = (n + 1) * (mostFrequentTask[1] - 1) + numberOfMostFrequentTasks
    return Math.max(tasks.length ,length)
}
```
